import{r as c,R as m,P as n,x as G,j as e}from"./index-BhCkZE29.js";import{C as H}from"./ColorBox-Bvh_cuZs.js";import{d as b,b as y,a as g,u as V,q as P,T as A,g as B,h as F,i as O,j as q,k as z,C as U}from"./CSmartTable-Ci0rx4hU.js";import{C as W}from"./CTabContent-CQ29TIfP.js";var S=c.forwardRef(function(a,t){var i,s=a.children,l=a.as,r=l===void 0?"ul":l,o=a.className,v=a.layout,p=a.variant,d=b(a,["children","as","className","layout","variant"]);return m.createElement(r,y({className:g("nav",(i={},i["nav-".concat(v)]=v,i["nav-".concat(p)]=p,i),o),role:"navigation"},d,{ref:t}),s)});S.propTypes={as:n.elementType,children:n.node,className:n.string,layout:n.oneOf(["fill","justified"]),variant:n.oneOf(["pills","tabs","underline","underline-border"])};S.displayName="CNav";var I=c.createContext({}),L=function(a,t,i){return m.Children.map(a,function(s,l){if(!m.isValidElement(s)||s.type.displayName!=="CNavGroup"&&s.type.displayName!=="CNavLink"&&s.type.displayName!=="CNavItem")return s;var r=t?i?"".concat(t,".").concat(l):"".concat(t):"".concat(l);return s.props&&s.props.children?m.cloneElement(s,{idx:r,children:L(s.props.children,r,s.type.displayName!=="CNavItem")}):m.cloneElement(s,{idx:r})})},D=c.forwardRef(function(a,t){var i=a.children,s=a.as,l=s===void 0?"ul":s,r=a.className,o=b(a,["children","as","className"]),v=c.useState(""),p=v[0],d=v[1],f={visibleGroup:p,setVisibleGroup:d};return m.createElement(I.Provider,{value:f},m.createElement(l,y({className:g("sidebar-nav",r),ref:t},o),L(i)))});D.propTypes={as:n.elementType,children:n.node,className:n.string};D.displayName="CSidebarNav";var C=c.forwardRef(function(a,t){var i=a.children,s=a.className,l=a.idx,r=b(a,["children","className","idx"]),o=c.useRef(null),v=V(t,o),p=c.useContext(I).setVisibleGroup;return c.useEffect(function(){var d;r.active=(d=o.current)===null||d===void 0?void 0:d.classList.contains("active"),l&&r.active&&p(l)},[r.active,s]),m.createElement(P,y({className:g("nav-link",s)},r,{ref:v}),i)});C.propTypes={active:n.bool,as:n.elementType,children:n.node,className:n.string,disabled:n.bool,idx:n.string};C.displayName="CNavLink";var R=c.forwardRef(function(a,t){var i=a.children,s=a.as,l=s===void 0?"li":s,r=a.className,o=b(a,["children","as","className"]);return m.createElement(l,{className:g("nav-item",r),ref:t},o.href||o.to?m.createElement(C,y({className:r},o),i):i)});R.propTypes={as:n.elementType,children:n.node,className:n.string};R.displayName="CNavItem";var w=c.forwardRef(function(a,t){var i=a.children,s=a.className,l=a.onHide,r=a.onShow,o=a.transition,v=o===void 0?!0:o,p=a.visible,d=b(a,["children","className","onHide","onShow","transition","visible"]),f=c.useRef(),k=V(t,f);return m.createElement(A,{in:p,nodeRef:f,onEnter:r,onExit:l,timeout:150},function(M){return m.createElement("div",y({className:g("tab-pane",{active:p,fade:v,show:M==="entered"},s)},d,{ref:k}),i)})});w.propTypes={children:n.node,className:n.string,onHide:n.func,onShow:n.func,transition:n.bool,visible:n.bool};w.displayName="CTabPane";const Q=()=>{const{visible:a,modelId:t,closeModal:i}=G(),[s,l]=c.useState(0),[r,o]=c.useState(null),[v,p]=c.useState(!0);c.useEffect(()=>{(async()=>{if(t){p(!0);try{const T=await(await fetch(`http://134.195.88.53:8090/public/model/${t}`)).json();o(T)}catch(u){console.error("Error fetching model data:",u)}finally{p(!1)}}})()},[t]);const d=h=>Array.isArray(h)&&h.length===0,f=h=>h.charAt(0).toUpperCase()+h.slice(1),k=(h,u)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("strong",{style:{marginRight:"10px"},children:[f(h),":"]}),e.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:u&&u.length>0?u.map((T,E)=>e.jsx(H,{width:30,height:30,packedHsl:T,tooltip:!0},E)):e.jsx("p",{children:"No colors available."})})]}),M=()=>{if(v)return e.jsx("p",{children:"Loading data..."});if(!r)return e.jsx("p",{children:"No data available."});const{totalFaces:h,totalVerts:u,textures:T,colors:E,attachments:x}=r;return e.jsxs("div",{children:[h>0&&e.jsxs("p",{children:[e.jsx("strong",{children:"Total Faces:"})," ",h]}),u>0&&e.jsxs("p",{children:[e.jsx("strong",{children:"Total Verts:"})," ",u]}),E&&k("Colours",E),x&&x.total>0&&e.jsxs("div",{style:{maxHeight:"300px",overflowY:"auto"},children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Total Attachments:"})," ",x.total]}),!d(x.items)&&e.jsxs("div",{children:[e.jsx("h4",{children:"Items"}),e.jsx("ul",{children:x.items.map((j,N)=>e.jsx("li",{children:j},N))})]}),!d(x.objects)&&e.jsxs("div",{children:[e.jsx("h4",{children:"Objects"}),e.jsx("ul",{children:x.objects.map((j,N)=>e.jsx("li",{children:j},N))})]}),!d(x.npcs)&&e.jsxs("div",{children:[e.jsx("h4",{children:"NPCs"}),e.jsx("ul",{children:x.npcs.map((j,N)=>e.jsx("li",{children:j},N))})]})]})]})};return e.jsx(e.Fragment,{children:e.jsxs(B,{alignment:"center",visible:a,onClose:i,backdrop:!0,children:[e.jsx(F,{children:e.jsxs(O,{children:["Model ",t," Details"]})}),e.jsxs(q,{children:[e.jsxs(S,{variant:"tabs",children:[e.jsx(R,{children:e.jsx(C,{active:s===0,onClick:()=>l(0),children:"Model Data"})}),e.jsx(R,{children:e.jsx(C,{active:s===1,onClick:()=>l(1),children:"Model View"})})]}),e.jsxs(W,{children:[e.jsx(w,{role:"tabpanel",visible:s===0,children:e.jsx("div",{children:M()})}),e.jsx(w,{role:"tabpanel",visible:s===1,children:e.jsx("div",{children:e.jsx("p",{children:"Coming Soon"})})})]})]}),e.jsx(z,{children:e.jsx(U,{color:"secondary",onClick:i,children:"Close"})})]})})};export{Q as R};
//# sourceMappingURL=RsModel-E6vIc-cO.js.map
