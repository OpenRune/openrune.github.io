import{r,j as e,x as L}from"./index-CuZpSdon.js";import{i as $,j as y,k as w,l as A,m as S,F as P,n as _}from"./DefaultLayout-DXFJkhDj.js";import{F as V}from"./FileSaver.min-2JJULHWN.js";import{F as q}from"./FilterTable-CP2ZIMhU.js";import{C as T}from"./ColorBox-CSFfEJN5.js";import{R as D}from"./RSItemIcon-7FlTrVWH.js";import{R as W}from"./RsModel-CnWwdvzC.js";import{g as X,h as Y,i as Z,j as G,k as J,C as b,m as F,n as U}from"./CSmartTable-D4j29sc8.js";import"./ColorUtils-Dk721PgH.js";import"./CTabContent-Cgh0Kn8u.js";const ie=()=>{const[o,u]=r.useState(""),[n,h]=r.useState(""),[i,g]=r.useState(!1),[x,j]=r.useState([]),[d,C]=r.useState([]),[t,s]=r.useState(!0),[c,p]=r.useState(!1),[f,H]=r.useState(null),I=async()=>{s(!0);try{const m=await(await fetch(`https://osrs.openrune.dev/public/item/?${i?"nulls=false":"nulls=true"}`)).json();j(m.map(M=>({id:M.id,name:M.name,iconId:M.id})))}catch(l){console.error("Error fetching data:",l)}finally{s(!1)}};r.useEffect(()=>{I()},[i]),r.useEffect(()=>{N()},[o,n,i,x]);const N=()=>{let l=[...x];o&&(l=l.filter(a=>a.id.toString().includes(o))),n&&(l=l.filter(a=>a.name.toLowerCase().includes(n.toLowerCase()))),C(l)},R=l=>{const a=l.target.value;(a===""||/^[1-9]*$/.test(a))&&u(a)},O=async l=>{const m=await(await fetch(`https://osrs.openrune.dev/public/item/${l.id}/icon`)).blob();V.saveAs(m,`${l.name}_icon.png`)},v=async l=>{try{const m=await(await fetch(`https://osrs.openrune.dev/public/item/${l.id}`)).json();H(m),p(!0)}catch(a){console.error("Error fetching item details:",a)}},E=[{key:"icon",label:"Icon",_style:{width:"5%"},filter:!1,sorter:!1},{key:"id",label:"ID",_style:{width:"15%"},filter:!1,sorter:!1},{key:"name",label:"Name",filter:!1,sorter:!1},{key:"info",label:"Details",_style:{width:"5%"},filter:!1,sorter:!1}],B={icon:l=>e.jsx("td",{children:e.jsx(D,{id:l.id})}),info:l=>e.jsx("td",{children:e.jsx(b,{color:"primary",onClick:()=>v(l),children:"View"})})},z=e.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(P,{style:{marginRight:"8px"}}),e.jsx(F,{type:"text",placeholder:"Search ID",value:o,onChange:R,style:{width:"150px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(_,{style:{marginRight:"8px"}}),e.jsx(F,{type:"text",placeholder:"Search Name",value:n,onChange:l=>h(l.target.value),style:{width:"150px"}})]}),e.jsx(U,{id:"filter-nulls",label:"Exclude Nulls",checked:i,onChange:l=>g(l.target.checked)})]});return e.jsxs(e.Fragment,{children:[e.jsx(q,{pageTitle:"Items",tableData:d,fetchData:I,customFilters:z,columns:E,scopedColumns:B,loading:t,handleDownloadItemIcon:O,handleRowClick:v}),e.jsx(W,{}),f&&e.jsxs(X,{visible:c,onClose:()=>p(!1),children:[e.jsx(Y,{children:e.jsxs(Z,{children:[e.jsx(D,{id:f.id}),"Item: ",f.name]})}),e.jsx(G,{children:e.jsx(k,{item:f,closeParentModal:()=>p(!1)})}),e.jsx(J,{children:e.jsx(b,{color:"secondary",onClick:()=>p(!1),children:"Close"})})]})]})},k=({item:o,closeParentModal:u})=>{const[n,h]=r.useState(0),{openModal:i}=L(),g=(t,s)=>{const c={id:-1,name:"null",examine:"null",resizeX:128,resizeY:128,resizeZ:128,xan2d:0,category:-1,yan2d:0,zan2d:0,equipSlot:-1,appearanceOverride1:-1,appearanceOverride2:-1,weight:0,cost:1,isTradeable:!1,stacks:0,inventoryModel:0,members:!1,zoom2d:2e3,xOffset2d:0,yOffset2d:0,ambient:0,contrast:0,options:[null,null,"Take",null,null],interfaceOptions:[null,null,null,null,"Drop"],maleModel0:-1,maleModel1:-1,maleModel2:-1,maleHeadModel0:-1,maleHeadModel1:-1,femaleModel0:-1,femaleModel1:-1,femaleModel2:-1,femaleHeadModel0:-1,femaleHeadModel1:-1,noteLinkId:-1,noteTemplateId:-1,teamCape:0,dropOptionIndex:-2,unnotedId:-1,notedId:-1,placeholderLink:-1,placeholderTemplate:-1,inherit:-1,option3:"Take",ioption5:"Drop",attackSpeed:-1,equipType:0,weaponType:-1};return c.hasOwnProperty(t)&&s===c[t]},x=t=>{u(),i(t)},j=()=>Object.entries(o).map(([t,s])=>g(t,s)?null:t==="maleModel0"||t==="maleModel1"||t==="maleModel2"||t==="maleHeadModel0"||t==="maleHeadModel1"||t==="femaleModel0"||t==="femaleModel1"||t==="femaleModel2"||t==="femaleHeadModel0"||t==="femaleHeadModel1"||t==="inventoryModel"?e.jsxs("div",{style:{margin:"5px",display:"flex",alignItems:"center"},children:[e.jsxs("strong",{style:{marginRight:"10px"},children:[d(t),":"]}),e.jsx(b,{color:"primary",onClick:()=>x(s),children:s})]},t):t==="originalColours"||t==="modifiedColours"||t==="originalTextureColours"||t==="modifiedTextureColours"?e.jsx("div",{style:{margin:"5px"},children:C(t,s)},t):t==="averageRgb"?e.jsxs("div",{style:{margin:"5px"},children:[e.jsxs("strong",{children:[d(t),":"]}),e.jsx(T,{width:40,height:40,packedHsl:s,tooltip:!0})]},t):e.jsxs("div",{style:{margin:"5px"},children:[e.jsxs("strong",{children:[d(t),":"]})," ",Array.isArray(s)?s.join(", "):s.toString()]},t)),d=t=>t.replace(/([A-Z])/g," $1").replace(/^./,s=>s.toUpperCase()),C=(t,s)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("strong",{style:{marginRight:"10px"},children:[d(t),":"]}),e.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:s&&s.length>0?s.map((c,p)=>e.jsx(T,{width:30,height:30,packedHsl:c,tooltip:!0},p)):e.jsx("p",{children:"No colors available."})})]});return e.jsxs(e.Fragment,{children:[e.jsxs($,{variant:"underline-border",children:[e.jsx(y,{children:e.jsx(w,{active:n===0,onClick:()=>h(0),children:"General Info"})}),e.jsx(y,{children:e.jsx(w,{active:n===1,onClick:()=>h(1),children:"Client Data"})})]}),e.jsxs(A,{style:{overflowX:"auto",overflowY:"auto",maxHeight:"640px",whiteSpace:"pre-wrap"},children:[e.jsx(S,{visible:n===0,children:j()}),e.jsx(S,{visible:n===1,children:e.jsx("pre",{style:{padding:"10px",borderRadius:"5px"},children:JSON.stringify(o,null,2)})})]})]})};export{ie as default};
//# sourceMappingURL=Items-Cy6raSqu.js.map
